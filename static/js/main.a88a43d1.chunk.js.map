{"version":3,"sources":["components/Loader/Loader.module.css","components/App/App.module.css","components/Button/Button.module.css","components/SearchBar/SearchBar.module.css","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Loader/Loader.jsx","components/ErrorNotification/ErrorNotification.jsx","components/services/api.jsx","components/Modal/Modal.jsx","components/Button/Button.jsx","components/SearchBar/SearchBar.jsx","components/App/App.jsx","index.js","components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css"],"names":["module","exports","ImageGalleryItem","item","onClick","id","className","styles","src","largeImageURL","alt","tags","ImageGalleryItemImage","ImageGallery","items","openModal","length","map","key","App","state","Loader","type","color","height","width","timeout","Component","ErrorNotification","text","fetchArticles","query","page","axios","get","Modal","handleESC","e","keyCode","props","onCloseModal","window","addEventListener","this","removeEventListener","imageId","articles","largeImage","find","article","Overlay","Button","onLoadMore","SearchBar","handleChange","setState","target","value","handleSubmit","preventDefault","onSubmit","SearchForm","SearchFormButton","SearchFormButtonLabel","SearchFormInput","onChange","autoComplete","autoFocus","placeholder","isLoading","error","isModalOpen","console","log","articleAPI","then","res","prevState","data","hits","catch","finally","handleOpenModal","handleCloseModal","prevProps","scrollTo","top","document","documentElement","scrollHeight","behavior","message","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.a88a43d1.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loader\":\"Loader_Loader__PkuiS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__1gZKK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__1t7Pm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SearchBar\":\"SearchBar_SearchBar__1LbhB\",\"SearchForm\":\"SearchBar_SearchForm__2GCze\",\"SearchFormButton\":\"SearchBar_SearchFormButton__1oo5r\",\"SearchFormButtonLabel\":\"SearchBar_SearchFormButtonLabel__3okms\",\"SearchFormInput\":\"SearchBar_SearchFormInput__1AjVL\"};","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport styles from \"./ImageGalleryItem.module.css\";\r\nconst ImageGalleryItem = ({ item, onClick }) => {\r\n  return (\r\n    <li onClick={() => onClick(item.id)} className={styles.ImageGalleryItem}>\r\n      <img\r\n        src={item.largeImageURL}\r\n        alt={item.tags}\r\n        className={styles.ImageGalleryItemImage}\r\n      />\r\n    </li>\r\n  );\r\n};\r\nImageGalleryItem.propTypes = {\r\n  item: PropTypes.shape({\r\n    largeImageURL: PropTypes.string,\r\n    tags: PropTypes.string,\r\n    id: PropTypes.number\r\n  }).isRequired,\r\n  onClick: PropTypes.func.isRequired\r\n};\r\nexport default ImageGalleryItem;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport styles from \"../ImageGalleryItem/ImageGalleryItem.module.css\";\r\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\r\n\r\nconst ImageGallery = ({ items, openModal }) => {\r\n  return (\r\n    <>\r\n      {items.length > 0 && (\r\n        <ul className={styles.ImageGallery}>\r\n          {items.map(item => (\r\n            <ImageGalleryItem item={item} onClick={openModal} key={item.id} />\r\n          ))}\r\n        </ul>\r\n      )}\r\n    </>\r\n  );\r\n};\r\nImageGallery.propTypes = {\r\n  items: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      id: PropTypes.number.isRequired\r\n    }).isRequired\r\n  ).isRequired,\r\n  openModal: PropTypes.func.isRequired\r\n};\r\nexport default ImageGallery;\r\n","import React, { Component } from \"react\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport styles from \"./Loader.module.css\";\r\nexport default class App extends Component {\r\n  state = {};\r\n  render() {\r\n    return (\r\n      <div className={styles.Loader}>\r\n        <Loader\r\n          type=\"ThreeDots\"\r\n          color=\"#00BFFF\"\r\n          height={100}\r\n          width={100}\r\n          timeout={2000} \r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nconst ErrorNotification = ({ text }) => (\r\n  <h1>Whoops, something went wrong:{text}</h1>\r\n);\r\nexport default ErrorNotification;\r\n","import axios from \"axios\";\r\nconst BASE_URL = \"https://pixabay.com/api/\";\r\nconst key = \"15433400-0fb5bd3684436b571a53694dd\";\r\nexport const fetchArticles = (query, page) =>\r\n  axios.get(\r\n    `${BASE_URL}?q=${query}&page=${page}&key=${key}&image_type=photo&orientation=horizontal&per_page=12`\r\n  );\r\n","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport styles from \"./Modal.module.css\";\r\nexport default class Modal extends Component {\r\n  static propTypes = {\r\n    onCloseModal: PropTypes.func.isRequired,\r\n    imageId: PropTypes.number.isRequired,\r\n    articles: PropTypes.array.isRequired\r\n  };\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.handleESC);\r\n  }\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keydown\", this.handleESC);\r\n  }\r\n  handleESC = e => {\r\n    if (e.keyCode === 27) {\r\n      this.props.onCloseModal();\r\n    }\r\n  };\r\n  render() {\r\n    const { imageId, articles, onCloseModal } = this.props;\r\n\r\n    const largeImage = articles.find(article => {\r\n      if (article.id === imageId) {\r\n        return article.largeImageURL;\r\n      }\r\n    });\r\n    return (\r\n      <div className={styles.Overlay} onClick={onCloseModal}>\r\n        <div className={styles.Modal}>\r\n          <img src={largeImage.largeImageURL} alt={largeImage.tags} />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport styles from \"./Button.module.css\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst Button = ({ onLoadMore }) => (\r\n  <button type=\"button\" className={styles.Button} onClick={onLoadMore}>\r\n    load more\r\n  </button>\r\n);\r\nButton.propTypes = {\r\n  onLoadMore: PropTypes.func.isRequired\r\n};\r\nexport default Button;\r\n","import React, { Component } from \"react\";\r\nimport styles from \"../SearchBar/SearchBar.module.css\";\r\nimport PropTypes from \"prop-types\";\r\nexport default class SearchBar extends Component {\r\n  static propTypes = {\r\n    onSubmit: PropTypes.func.isRequired\r\n  };\r\n\r\n  state = {\r\n    query: \"\"\r\n  };\r\n\r\n  handleChange = e => {\r\n    this.setState({\r\n      query: e.target.value\r\n    });\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    const { onSubmit } = this.props;\r\n    const { query } = this.state;\r\n\r\n    onSubmit(query);\r\n  };\r\n\r\n  render() {\r\n    const { query } = this.state;\r\n    return (\r\n      <header className={styles.SearchBar}>\r\n        <form className={styles.SearchForm} onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className={styles.SearchFormButton}>\r\n            <span className={styles.SearchFormButtonLabel}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className={styles.SearchFormInput}\r\n            type=\"text\"\r\n            value={query}\r\n            onChange={this.handleChange}\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport ImageGallery from \"../ImageGallery/ImageGallery\";\r\nimport Loader from \"../Loader/Loader\";\r\nimport ErrorNotification from \"../ErrorNotification/ErrorNotification\";\r\nimport * as articleAPI from \"../services/api\";\r\nimport styles from \"./App.module.css\";\r\nimport Modal from \"../Modal/Modal\";\r\nimport Button from \"../Button/Button\";\r\n\r\nimport SearchBar from \"../SearchBar/SearchBar\";\r\nexport default class App extends Component {\r\n  state = {\r\n    articles: [],\r\n    query: \"\",\r\n    page: 1,\r\n    isLoading: false,\r\n    error: null,\r\n    isModalOpen: false,\r\n    imageId: null\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const { page, query, articles } = this.state;\r\n\r\n    if (prevState.page !== page) {\r\n      this.fetchArticles(query, page);\r\n    }\r\n\r\n    if (prevState.articles !== articles && articles.length > 12) {\r\n      window.scrollTo({\r\n        top: document.documentElement.scrollHeight,\r\n        behavior: \"smooth\"\r\n      });\r\n    }\r\n  }\r\n  fetchArticles = (query, page) => {\r\n    console.log(query, page);\r\n    this.setState({ isLoading: true, query: query });\r\n    articleAPI\r\n      .fetchArticles(query, page)\r\n      .then(res =>\r\n        this.setState(prevState => {\r\n          console.log(res.data.hits);\r\n          return { articles: [...prevState.articles, ...res.data.hits] };\r\n        })\r\n      )\r\n\r\n      .catch(error => this.setState({ error }))\r\n      .finally(() => {\r\n        this.setState({ isLoading: false });\r\n      });\r\n  };\r\n  handleOpenModal = id => {\r\n    this.setState({\r\n      isModalOpen: true,\r\n      imageId: id\r\n    });\r\n  };\r\n\r\n  handleCloseModal = e => {\r\n    this.setState({\r\n      isModalOpen: false,\r\n      imageId: \"\"\r\n    });\r\n  };\r\n  onLoadMore = () => {\r\n    const { page } = this.state;\r\n\r\n    this.setState({\r\n      page: page + 1,\r\n      isLoading: true\r\n    });\r\n    console.log(page);\r\n  };\r\n  render() {\r\n    const { articles, isLoading, error, isModalOpen, imageId } = this.state;\r\n    return (\r\n      <div className={styles.App}>\r\n        <SearchBar onSubmit={this.fetchArticles} />\r\n        {isModalOpen && (\r\n          <Modal\r\n            imageId={imageId}\r\n            articles={articles}\r\n            onCloseModal={this.handleCloseModal}\r\n          />\r\n        )}\r\n        <ImageGallery items={articles} openModal={this.handleOpenModal} />\r\n        {error && <ErrorNotification text={error.message} />}\r\n        {isLoading && <Loader />}\r\n        {articles.length > 0 && <Button onLoadMore={this.onLoadMore} />}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App/App\";\nReactDOM.render(<App />, document.getElementById(\"root\"));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGalleryItem_ImageGallery__Wuaxj\",\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__fKOkZ\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__1F8Vz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2jF5g\",\"Modal\":\"Modal_Modal__3eNIp\"};"],"sourceRoot":""}