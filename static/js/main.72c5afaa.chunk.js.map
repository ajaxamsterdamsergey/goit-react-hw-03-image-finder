{"version":3,"sources":["components/Loader/Loader.module.css","components/App/App.module.css","components/Button/Button.module.css","components/SearchBar/SearchBar.module.css","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Loader/Loader.jsx","components/ErrorNotification/ErrorNotification.jsx","components/services/api.jsx","components/Modal/Modal.jsx","components/Button/Button.jsx","components/SearchBar/SearchBar.jsx","components/App/App.jsx","index.js","components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css"],"names":["module","exports","ImageGalleryItem","item","onClick","id","className","styles","src","largeImageURL","alt","tags","ImageGalleryItemImage","ImageGallery","items","openModal","length","map","key","App","state","Loader","type","color","height","width","timeout","Component","ErrorNotification","text","fetchArticles","query","page","axios","get","Modal","props","handleESC","e","keyCode","onCloseModal","handleBgClick","overlay","modalRef","current","target","createRef","window","addEventListener","this","removeEventListener","imageId","largeImage","articles","find","article","Overlay","ref","Button","onLoadMore","SearchBar","handleChange","setState","value","handleSubmit","preventDefault","onSubmit","SearchForm","SearchFormButton","SearchFormButtonLabel","SearchFormInput","onChange","autoComplete","autoFocus","placeholder","isLoading","error","isModalOpen","console","log","articleAPI","then","res","prevState","data","hits","catch","finally","handleOpenModal","handleCloseModal","prevProps","scrollTo","top","document","documentElement","scrollHeight","behavior","message","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.72c5afaa.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loader\":\"Loader_Loader__PkuiS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__1gZKK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__1t7Pm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SearchBar\":\"SearchBar_SearchBar__1LbhB\",\"SearchForm\":\"SearchBar_SearchForm__2GCze\",\"SearchFormButton\":\"SearchBar_SearchFormButton__1oo5r\",\"SearchFormButtonLabel\":\"SearchBar_SearchFormButtonLabel__3okms\",\"SearchFormInput\":\"SearchBar_SearchFormInput__1AjVL\"};","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport styles from \"./ImageGalleryItem.module.css\";\r\nconst ImageGalleryItem = ({ item, onClick }) => {\r\n  return (\r\n    <li onClick={() => onClick(item.id)} className={styles.ImageGalleryItem}>\r\n      <img\r\n        src={item.largeImageURL}\r\n        alt={item.tags}\r\n        className={styles.ImageGalleryItemImage}\r\n      />\r\n    </li>\r\n  );\r\n};\r\nImageGalleryItem.propTypes = {\r\n  item: PropTypes.shape({\r\n    largeImageURL: PropTypes.string,\r\n    tags: PropTypes.string,\r\n    id: PropTypes.number\r\n  }).isRequired,\r\n  onClick: PropTypes.func.isRequired\r\n};\r\nexport default ImageGalleryItem;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport styles from \"../ImageGalleryItem/ImageGalleryItem.module.css\";\r\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\r\n\r\nconst ImageGallery = ({ items, openModal }) => {\r\n  return (\r\n    <>\r\n      {items.length > 0 && (\r\n        <ul className={styles.ImageGallery}>\r\n          {items.map(item => (\r\n            <ImageGalleryItem item={item} onClick={openModal} key={item.id} />\r\n          ))}\r\n        </ul>\r\n      )}\r\n    </>\r\n  );\r\n};\r\nImageGallery.propTypes = {\r\n  items: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      id: PropTypes.number.isRequired\r\n    }).isRequired\r\n  ).isRequired,\r\n  openModal: PropTypes.func.isRequired\r\n};\r\nexport default ImageGallery;\r\n","import React, { Component } from \"react\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport styles from \"./Loader.module.css\";\r\nexport default class App extends Component {\r\n  state = {};\r\n  render() {\r\n    return (\r\n      <div className={styles.Loader}>\r\n        <Loader\r\n          type=\"ThreeDots\"\r\n          color=\"#00BFFF\"\r\n          height={100}\r\n          width={100}\r\n          timeout={2000} \r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nconst ErrorNotification = ({ text }) => (\r\n  <h1>Whoops, something went wrong:{text}</h1>\r\n);\r\nexport default ErrorNotification;\r\n","import axios from \"axios\";\r\nconst BASE_URL = \"https://pixabay.com/api/\";\r\nconst key = \"15433400-0fb5bd3684436b571a53694dd\";\r\nexport const fetchArticles = (query, page) =>\r\n  axios.get(\r\n    `${BASE_URL}?q=${query}&page=${page}&key=${key}&image_type=photo&orientation=horizontal&per_page=12`\r\n  );\r\n","import React, { Component, createRef } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport styles from \"./Modal.module.css\";\r\nclass Modal extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.modalRef = createRef();\r\n  }\r\n  static propTypes = {\r\n    onCloseModal: PropTypes.func.isRequired,\r\n    imageId: PropTypes.number.isRequired,\r\n    articles: PropTypes.array.isRequired,\r\n  };\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.handleESC);\r\n  }\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keydown\", this.handleESC);\r\n  }\r\n  handleESC = (e) => {\r\n    if (e.keyCode === 27) {\r\n      this.props.onCloseModal();\r\n    }\r\n  };\r\n  handleBgClick = (e) => {\r\n    const overlay = this.modalRef.current;\r\n    if (e.target === overlay) this.props.onCloseModal();\r\n  };\r\n  render() {\r\n    const { imageId, articles } = this.props;\r\n\r\n    const largeImage = articles.find((article) => {\r\n      if (article.id === imageId) {\r\n        return article.largeImageURL;\r\n      }\r\n    });\r\n    return (\r\n      <div\r\n        className={styles.Overlay}\r\n        onClick={this.handleBgClick}\r\n        ref={this.modalRef}\r\n      >\r\n        <div className={styles.Modal}>\r\n          <img src={largeImage.largeImageURL} alt={largeImage.tags} />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default Modal;\r\n","import React from \"react\";\r\nimport styles from \"./Button.module.css\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst Button = ({ onLoadMore }) => (\r\n  <button type=\"button\" className={styles.Button} onClick={onLoadMore}>\r\n    load more\r\n  </button>\r\n);\r\nButton.propTypes = {\r\n  onLoadMore: PropTypes.func.isRequired\r\n};\r\nexport default Button;\r\n","import React, { Component } from \"react\";\r\nimport styles from \"../SearchBar/SearchBar.module.css\";\r\nimport PropTypes from \"prop-types\";\r\nexport default class SearchBar extends Component {\r\n  static propTypes = {\r\n    onSubmit: PropTypes.func.isRequired\r\n  };\r\n\r\n  state = {\r\n    query: \"\"\r\n  };\r\n\r\n  handleChange = e => {\r\n    this.setState({\r\n      query: e.target.value\r\n    });\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    const { onSubmit } = this.props;\r\n    const { query } = this.state;\r\n\r\n    onSubmit(query);\r\n  };\r\n\r\n  render() {\r\n    const { query } = this.state;\r\n    return (\r\n      <header className={styles.SearchBar}>\r\n        <form className={styles.SearchForm} onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className={styles.SearchFormButton}>\r\n            <span className={styles.SearchFormButtonLabel}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className={styles.SearchFormInput}\r\n            type=\"text\"\r\n            value={query}\r\n            onChange={this.handleChange}\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport ImageGallery from \"../ImageGallery/ImageGallery\";\r\nimport Loader from \"../Loader/Loader\";\r\nimport ErrorNotification from \"../ErrorNotification/ErrorNotification\";\r\nimport * as articleAPI from \"../services/api\";\r\nimport styles from \"./App.module.css\";\r\nimport Modal from \"../Modal/Modal\";\r\nimport Button from \"../Button/Button\";\r\n\r\nimport SearchBar from \"../SearchBar/SearchBar\";\r\nexport default class App extends Component {\r\n  state = {\r\n    articles: [],\r\n    query: \"\",\r\n    page: 1,\r\n    isLoading: false,\r\n    error: null,\r\n    isModalOpen: false,\r\n    imageId: null\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const { page, query, articles } = this.state;\r\n\r\n    if (prevState.page !== page) {\r\n      this.fetchArticles(query, page);\r\n    }\r\n\r\n    if (prevState.articles !== articles && articles.length > 12) {\r\n      window.scrollTo({\r\n        top: document.documentElement.scrollHeight,\r\n        behavior: \"smooth\"\r\n      });\r\n    }\r\n  }\r\n  fetchArticles = (query, page) => {\r\n    console.log(query, page);\r\n    this.setState({ isLoading: true, query: query });\r\n    articleAPI\r\n      .fetchArticles(query, page)\r\n      .then(res =>\r\n        this.setState(prevState => {\r\n          console.log(res.data.hits);\r\n          return { articles: [...prevState.articles, ...res.data.hits] };\r\n        })\r\n      )\r\n\r\n      .catch(error => this.setState({ error }))\r\n      .finally(() => {\r\n        this.setState({ isLoading: false });\r\n      });\r\n  };\r\n  handleOpenModal = id => {\r\n    this.setState({\r\n      isModalOpen: true,\r\n      imageId: id\r\n    });\r\n  };\r\n\r\n  handleCloseModal = e => {\r\n    this.setState({\r\n      isModalOpen: false,\r\n      imageId: \"\"\r\n    });\r\n  };\r\n  onLoadMore = () => {\r\n    const { page } = this.state;\r\n\r\n    this.setState({\r\n      page: page + 1,\r\n      isLoading: true\r\n    });\r\n    console.log(page);\r\n  };\r\n  render() {\r\n    const { articles, isLoading, error, isModalOpen, imageId } = this.state;\r\n    return (\r\n      <div className={styles.App}>\r\n        <SearchBar onSubmit={this.fetchArticles} />\r\n        {isModalOpen && (\r\n          <Modal\r\n            imageId={imageId}\r\n            articles={articles}\r\n            onCloseModal={this.handleCloseModal}\r\n          />\r\n        )}\r\n        <ImageGallery items={articles} openModal={this.handleOpenModal} />\r\n        {error && <ErrorNotification text={error.message} />}\r\n        {isLoading && <Loader />}\r\n        {articles.length > 0 && <Button onLoadMore={this.onLoadMore} />}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App/App\";\nReactDOM.render(<App />, document.getElementById(\"root\"));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGalleryItem_ImageGallery__Wuaxj\",\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__fKOkZ\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__1F8Vz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2jF5g\",\"Modal\":\"Modal_Modal__3eNIp\"};"],"sourceRoot":""}